<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link href="resources/css/style.css" rel="stylesheet" type="text/css" />
</h:head>

<ui:composition template="./templateMenu.xhtml">

	<ui:define name="content">

		<h:form id="form">

			<h2>Wartungen: Suche</h2>

			<h:selectOneMenu value="#{filterTableBean.anlageName}"
				style="width: 300px; font-size: 12px;" styleClass="myCustomStyle"
				effect="fade">
				<f:selectItem id="select" itemLabel="Anlage auswählen" itemValue="" />
				<f:selectItems value="#{filterTableBean.anlagen}" />
			</h:selectOneMenu>

			<h:commandButton value="ausführen"
				actionListener="#{filterTableBean.ausfuehren}"
				style="font-size:12px;" styleClass="myCustomStyle" update="tbl" />

			<h:messages styleClass="errorMessage" />

			<br></br>
			<br></br>

			<p:dataTable id="tbl" var="wartung" headerText="wartungen"
				value="#{filteredWartungen.wartungen}"
				emptyMessage="Keine Daten vorhanden" style="font-size:12px;">

				<p:column headerText="Anlage">
					<h:outputText value="#{wartung.anlage.name}" />
				</p:column>
				<p:column headerText="Station / Komponente">
					<h:outputText value="#{wartung.station.name}" />
				</p:column>
				<p:column headerText="Auftrag">
					<h:outputText value="#{wartung.auftragNr}" />
				</p:column>
				<p:column headerText="durchgeführt">
					<h:outputText value="#{wartung.faellig}" />
				</p:column>
				<p:column headerText="Info">
					<h:outputText value="#{wartung.info}" />
				</p:column>
				<p:column headerText="Mitarbeiter">
					<h:outputText value="#{wartung.mitarbeiter}" />
				</p:column>
				<p:column headerText="Zeitstempel">
					<h:outputText value="#{wartung.timestamp}" />
				</p:column>
				<p:column headerText="Bearbeiter">
					<h:outputText value="#{wartung.user}" />
				</p:column>
			</p:dataTable>

		</h:form>

	</ui:define>

</ui:composition>
</html>